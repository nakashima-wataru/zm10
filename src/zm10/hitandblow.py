import random

def play_game():
    """ãƒ’ãƒƒãƒˆã‚¢ãƒ³ãƒ‰ãƒ–ãƒ­ãƒ¼ã®ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ é–¢æ•°"""

    # 1. ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ç­”ãˆã‚’ä½œæˆ (4æ¡ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªæ•°å­—)
    digits = list("0123456789")
    random.shuffle(digits)
    answer = digits[:4]
    
    attempts = 0 # æŒ‘æˆ¦å›æ•°ã‚’è¨˜éŒ²

    print("=== ãƒ’ãƒƒãƒˆã‚¢ãƒ³ãƒ‰ãƒ–ãƒ­ãƒ¼ é–‹å§‹ ===")
    print("4æ¡ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªæ•°å­—ã‚’å½“ã¦ã¦ãã ã•ã„ã€‚")
    print("---------------------------------")
    
    while True:
        attempts += 1
        print(f"\n--- {attempts}å›ç›®ã®æŒ‘æˆ¦ ---")

        # 2. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‹ã‚‰ã®å…¥åŠ›ã‚’å—ã‘å–ã‚Šã€ãƒã‚§ãƒƒã‚¯ã™ã‚‹
        guess_str = input("4æ¡ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„: ")

        # å…¥åŠ›å½¢å¼ã®ãƒã‚§ãƒƒã‚¯
        if len(guess_str) != 4 or not guess_str.isdigit():
            print("ã‚¨ãƒ©ãƒ¼: å¿…ãš4æ¡ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
            continue
        
        if len(set(guess_str)) != 4:
            print("ã‚¨ãƒ©ãƒ¼: æ•°å­—ã¯é‡è¤‡ã—ãªã„ã‚ˆã†ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
            continue
        
        guess = list(guess_str)
        
        # 3. Hitã¨Blowã‚’åˆ¤å®šã™ã‚‹
        hits = 0
        blows = 0

        for i in range(4):
            if guess[i] == answer[i]:
                # å ´æ‰€ã‚‚æ•°å­—ã‚‚åˆã£ã¦ã„ã‚‹å ´åˆ (Hit)
                hits += 1
            elif guess[i] in answer:
                # å ´æ‰€ã¯é•ã†ãŒæ•°å­—ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆ (Blow)
                blows += 1
        
        # 4. çµæœã‚’è¡¨ç¤ºã—ã€æ­£è§£ã‹åˆ¤å®šã™ã‚‹
        print(f"çµæœ: {hits} Hit, {blows} Blow")

        if hits == 4:
            print("\nğŸ‰ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼æ­£è§£ã§ã™ï¼")
            print(f"æ­£è§£ã¯ã€Œ{''.join(answer)}ã€ã§ã—ãŸã€‚")
            print(f"{attempts}å›ã§ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸã€‚")
            break

# --- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œ ---
if __name__ == "__main__":
    play_game()